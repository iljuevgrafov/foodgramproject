<nav class="pagination" aria-label="Search results pages">
    <ul class="pagination__container">
        {% if items.has_previous %}
            {% if 'tag' in request.get_full_path %}
                {% if 'page' in request.get_full_path %}
                    <li class="pagination__item"><a class="pagination__link link" href="{{ request.get_full_path|slice:'-7' }}&page={{ items.previous_page_number }}"><span class="icon-left"></span></a></li>
                {% else %}
                    <li class="pagination__item"><a class="pagination__link link" href="{{ request.get_full_path }}&page={{ items.previous_page_number }}"><span class="icon-left"></span></a></li>
                {% endif %}
            {% else %}
                <li class="pagination__item"><a class="pagination__link link" href="?page={{ items.previous_page_number }}"><span class="icon-left"></span></a></li>
            {% endif %}        
        {% endif %}

        {% for i in paginator.page_range %}
            {% if items.number == i %}
                <li class="pagination__item pagination__item_active"><a class="pagination__link link" href="#">{{ i }}</a></li>
            {% else %}
                {% if 'tag' in request.get_full_path %}
                    {% if 'page' in request.get_full_path %}
                        <li class="pagination__item"><a class="pagination__link link" href="{{ request.get_full_path|slice:'-7' }}&page={{ i }}">{{ i }}</a></li>
                    {% else %}
                        <li class="pagination__item"><a class="pagination__link link" href="{{ request.get_full_path }}&page={{ i }}">{{ i }}</a></li>
                    {% endif %}
                {% else %}
                    <li class="pagination__item"><a class="pagination__link link" href="?page={{ i }}">{{ i }}</a></li>
                {% endif %}
            {% endif %}
        {% endfor %}

        {% if items.has_next %}
            {% if 'tag' in request.get_full_path %}
                {% if 'page' in request.get_full_path %}
                    <li class="pagination__item"><a class="pagination__link link" href="{{ request.get_full_path|slice:'-7' }}&page={{ items.next_page_number }}"><span class="icon-right"></span></a></li>
                 {% else %}
                    <li class="pagination__item"><a class="pagination__link link" href="{{ request.get_full_path }}&page={{ items.next_page_number }}"><span class="icon-right"></span></a></li>
                 {% endif %}
            {% else %}
                <li class="pagination__item"><a class="pagination__link link" href="?page={{ items.next_page_number }}"><span class="icon-right"></span></a></li>
            {% endif %}    
        {% endif %}
    </ul>
</nav>